<!DOCTYPE html>
<html>
<head>
	

	<script language="javascript" src="jquery-1.5.1.js"></script>
	<style type="text/css">@import "jquery.svg.css";</style> 
	<script type="text/javascript" src="jquery.svg.js"></script>
	<script type="text/javascript" src="jquery.svganim.js"></script>
	

	<!-- My scripts-->
	<script language="javascript" src="graphsvg.js"></script>
	<script type="text/javascript" src="object.watch.js"></script>
	<script language="javascript" src="graphparser.js"></script>
	<script language="javascript" src="FRLayout.js"></script>
	<script language="javascript">


 

 
    
$(document).ready(function(){




	//init svg
	$('#box').svg()
	svg = $('#box').svg('get')
	
	textgraph = $('#graphml')[0]
	textgraph.value = "graph { \n"
	var nnodes = 20
	var nedges = 20	
	for(i = 0; i < nedges; i++)
	{
		textgraph.value += Math.floor(Math.random()*nnodes) + " - " + Math.floor(Math.random()*nnodes) + "\n"
	}
	textgraph.value += "}"

	var graph  = parse($("#graphml")[0].value)
	var layout = new FruchtermanReingoldLayout(graph,svg._svg.clientWidth,svg._svg.clientHeight,10);
	
	graph.draw(svg);

	update = function()
	{
		layout.run()
		graph.update()
	}

	setInterval(update, 40);

	

	console.log(graph)
})	
  </script>
</head>
<body>


<svg width="80%" height="80%"
	id="box"
	xmlns="http://www.w3.org/2000/svg" version="1.1" 
>

</svg>
<form>
	<textarea cols="50" rows="4" id="graphml">
graph nambe {
 edges [size = 10]
 a [fill = green]
 d - c
 a - b [arrow = big]
 c - b [size = 5]
}

</textarea>

	
</form>

<button id="draw">draw</button> 
</body>
</html>
