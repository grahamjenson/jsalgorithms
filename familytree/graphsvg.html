<!DOCTYPE html>
<html>
<head>
	

	<script language="javascript" src="jquery-1.5.1.js"></script>
	
	<script type="text/javascript" src="d3/d3.js"></script>
    	<script type="text/javascript" src="d3/d3.layout.js"></script>
	

	<!-- My scripts-->
	<script language="javascript" src="graphsvg.js"></script>

	<script language="javascript">

$(document).ready(function(){	
	
	Function.prototype.compose  = function(argFunction) {
    var invokingFunction = this;
    return function() {
        return  invokingFunction.call(this,argFunction.apply(this,arguments));
    }
}
	var family = {
		1 : {
			firstname : "Georgette",
			lastname : "Jenson",
			birthdate : "1954",
			sex : 'f'
		},
		
		2 : {
			firstname : "Deryk",
			lastname : "Jenson",
			birthdate : "1953",
			sex : 'm'
		},
		
		3 : {
			firstname : "Kim",
			lastname : "Jenson",
			birthdate : "1984",
			sex : 'f',
			parents : [1,2]
		},
		
		4 : {
			firstname : "Graham",
			lastname : "Jenson",
			birthdate : "1985",
			sex : 'm',
			parents : [1,2]
		},
		
		5 : {
			firstname : "Vivien",
			lastname : "Jenson",
			birthdate : "1987",
			sex : 'f',
			parents : [1,2]
		},
		
	}
	
	
	
	ft = new FamilyTree(family)
	ft.addPerson(gj)
	ft.addPerson(mum)
	ft.addPerson(dad)
	ft.addPerson(kj)
	ft.addPerson(vj)
	
	ft.layout()
	
	w = 300
	h = 300
	
	var svg = d3.select("#tree").append("svg:svg")
	.attr("width", w)
	.attr("height", h);

	var sy = d3.scale.linear()
	.domain([d3.min(ft.people,ft.getY), d3.max(ft.people,ft.getY)])
	.range([0,h])
	.compose(ft.getY);

	var sx = d3.scale.linear()
	.domain([d3.min(ft.people,ft.getX), d3.max(ft.people,ft.getX)])
	.range([0,w])
	.compose(ft.getX)
	
	var circle = svg.selectAll("circle")
	.data(ft.people)
	.enter().append("svg:circle")
	.attr("cx", ssx)
	.attr("cy", ssy)
	.attr("r", 12);

	
	 
	
})	
  </script>
</head>
<body>

<div id='tree'>
</div>

</svg>
	
</body>
</html>
